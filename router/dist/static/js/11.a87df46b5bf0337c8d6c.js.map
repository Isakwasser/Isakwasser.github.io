{"version":3,"sources":["webpack:///./src/assets/snowflakes-blue.png","webpack:///./src/components/pages/appSnow/appSnow.js","webpack:///./src/components/pages/appSnow/appSnow.vue?4596","webpack:///./src/components/pages/appSnow/appSnow.vue"],"names":["module","exports","__webpack_require__","p","appSnow","name","data","currentBgUrl","undefined","findPhoto","Snowflake","number","maxSpeedX","maxSpeedY","maxRotateSpeed","isActive","time","items","methods","changeBg","_this","this","fetch","then","json","i","Math","floor","hits","length","random","console","log","previewURL","img","document","createElement","src","largeImageURL","onload","onerror","catch","e","initSnowflake","positionX","window","innerWidth","positionY","speedX","speedY","rotateAngle","rotateSpeed","opacity","transition","image","snowflakeImage","scaleX","rotateSnowflakes","nextAngle","Vue","set","fallSnowflakes","nextY","innerHeight","moveXSnowflakes","nextX","fadeSnowflakes","parkourSnowflakes","animateOnTimer","_this2","arguments","changeOpacityPerCycle","setTimeout","created","_this3","$route","query","snowflakes","onblur","onfocus","mounted","push","appSnow_appSnow","render","_h","$createElement","_c","_self","staticClass","style","backgroundImage","attrs","to","_v","_l","el","key","top","left","transform","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.a87df46b5bf0337c8d6c.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/snowflakes-blue.51e3d83.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/snowflakes-blue.png\n// module id = OLl6\n// module chunks = 11","import Vue from \"vue\";\r\nimport snowflakeImage from \"@/assets/snowflakes-blue.png\";\r\n\r\nexport default {\r\n  name: \"appSnow\",\r\n  data() {\r\n    return {\r\n      currentBgUrl: undefined,\r\n      findPhoto: \"Зима\",\r\n      Snowflake: {\r\n        number: 50,\r\n        maxSpeedX: 100,\r\n        maxSpeedY: 200,\r\n        maxRotateSpeed: 20,\r\n        isActive: true,\r\n        time: 100,\r\n        items: [],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    changeBg() {\r\n      fetch(\r\n        `https://pixabay.com/api/?key=23909248-46987dab904e15ddebe9addff&q=${this.findPhoto}&image_type=photo&per_page=200`\r\n      )\r\n        .then((data) => {\r\n          return data.json();\r\n        })\r\n        .then((data) => {\r\n          let i = Math.floor(data.hits.length * Math.random());\r\n          console.log(data.hits[i]);\r\n          // this.currentBgUrl = data.hits[i].largeImageURL;\r\n          this.currentBgUrl = data.hits[i].previewURL;\r\n\r\n          let img = document.createElement('img');\r\n          img.src = data.hits[i].largeImageURL;\r\n\r\n          img.onload = () => {\r\n            console.log(\"Установлено большое изображение\");\r\n            this.currentBgUrl = data.hits[i].largeImageURL;\r\n          };\r\n\r\n          img.onerror = () => {\r\n            console.log(\"Ошибка во время загрузки изображения с высоким разрешением\");\r\n          };\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    initSnowflake() {\r\n      let positionX = Math.floor(Math.random() * window.innerWidth);\r\n      let positionY = -100;\r\n      let speedX = Math.floor((Math.random() - 0.5) * this.Snowflake.maxSpeedX);\r\n      let speedY =\r\n        Math.floor((Math.random() + 0.5) * this.Snowflake.maxSpeedY) / 2;\r\n      let rotateAngle = 0;\r\n      let rotateSpeed = Math.floor(\r\n        (Math.random() - 0.5) * this.Snowflake.maxRotateSpeed\r\n      );\r\n      let opacity = 1;\r\n\r\n      return {\r\n        positionX: positionX,\r\n        positionY: positionY,\r\n        speedX: speedX,\r\n        speedY: speedY,\r\n        rotateAngle: rotateAngle,\r\n        rotateSpeed: rotateSpeed,\r\n        opacity: opacity,\r\n        transition: \"none\",\r\n        image: snowflakeImage,\r\n        scaleX: 1,\r\n      };\r\n    },\r\n    rotateSnowflakes() {\r\n      if (this.Snowflake.isActive) {\r\n        let time = this.Snowflake.time;\r\n        for (let i = 0; i < this.Snowflake.number; i++) {\r\n          let nextAngle =\r\n            this.Snowflake.items[i].rotateAngle +\r\n            (this.Snowflake.items[i].rotateSpeed * time) / 100;\r\n          Vue.set(this.Snowflake.items[i], \"rotateAngle\", nextAngle);\r\n        }\r\n      }\r\n    },\r\n    fallSnowflakes() {\r\n      if (this.Snowflake.isActive) {\r\n        let time = this.Snowflake.time;\r\n        for (let i = 0; i < this.Snowflake.number; i++) {\r\n          let nextY =\r\n            this.Snowflake.items[i].positionY +\r\n            (this.Snowflake.items[i].speedY * time) / 1000;\r\n\r\n          Vue.set(this.Snowflake.items[i], \"positionY\", nextY);\r\n          if (nextY - 100 > window.innerHeight) {\r\n            Vue.set(this.Snowflake.items, i, this.initSnowflake());\r\n          } else {\r\n            Vue.set(this.Snowflake.items[i], \"transition\", \"all 1s linear\");\r\n          }\r\n        }\r\n      }\r\n    },\r\n    moveXSnowflakes() {\r\n      if (this.Snowflake.isActive) {\r\n        let time = this.Snowflake.time;\r\n        for (let i = 0; i < this.Snowflake.number; i++) {\r\n          let nextX =\r\n            this.Snowflake.items[i].positionX +\r\n                (this.Snowflake.items[i].speedX * time) / 1000;\r\n            this.Snowflake.items[i].speedX += (Math.random() - 0.5) * this.Snowflake.maxSpeedX;\r\n            if (this.Snowflake.items[i].speedX > 0.8 * this.Snowflake.maxSpeedX) this.Snowflake.items[i].speedX -= 0.3 * this.Snowflake.maxSpeedX;\r\n            if (this.Snowflake.items[i].speedX < -0.8 * this.Snowflake.maxSpeedX) this.Snowflake.items[i].speedX += 0.3 * this.Snowflake.maxSpeedX;\r\n            Vue.set(this.Snowflake.items[i], \"positionX\", nextX);\r\n        }\r\n      }\r\n    },\r\n    fadeSnowflakes() {\r\n      if (this.Snowflake.isActive) {\r\n        let i = Math.floor(Math.random() * this.Snowflake.number);\r\n        Vue.set(this.Snowflake.items[i], \"opacity\", 0);\r\n      }\r\n    },\r\n    parkourSnowflakes() {\r\n      if (this.Snowflake.isActive) {\r\n        let i = Math.floor(Math.random() * this.Snowflake.number);\r\n        Vue.set(this.Snowflake.items[i], \"scaleX\", -1);\r\n      }\r\n    },\r\n    animateOnTimer(time, i = 1, changeOpacityPerCycle = Math.floor(200 / this.Snowflake.number) + 1) {\r\n      if (this.Snowflake.isActive) {\r\n        this.rotateSnowflakes();\r\n        this.fallSnowflakes();\r\n        this.moveXSnowflakes();\r\n        if (i % changeOpacityPerCycle == 0) {\r\n          this.fadeSnowflakes();\r\n        }\r\n        if (i % changeOpacityPerCycle == 0 || true) {\r\n          this.parkourSnowflakes();\r\n        }\r\n        setTimeout(() => {\r\n          this.animateOnTimer(time, ++i, changeOpacityPerCycle);\r\n        }, time);\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.changeBg();\r\n    \r\n    if (this.$route.query.snowflakes) {\r\n      this.Snowflake.number = this.$route.query.snowflakes;\r\n    }\r\n    window.onblur = () => {\r\n      this.Snowflake.isActive = false;\r\n    }\r\n    window.onfocus = () => {\r\n      this.Snowflake.isActive = true;\r\n      this.animateOnTimer(this.Snowflake.time);\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n    for (let i = 0; i < this.Snowflake.number; i++) {\r\n      this.Snowflake.items.push(this.initSnowflake());\r\n    }\r\n    this.animateOnTimer(this.Snowflake.time);\r\n  },\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/pages/appSnow/appSnow.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-snow\",style:({ backgroundImage: (\"url(\" + _vm.currentBgUrl + \")\") })},[_c('router-link',{staticClass:\"goToMain\",attrs:{\"to\":{ name: 'Main' }}},[_vm._v(\"Перейти на главную\")]),_vm._v(\" \"),_vm._l((_vm.Snowflake.items),function(el,i){return _c('div',{key:i,staticClass:\"snowflake\",style:({\n      top: ((el.positionY) + \"px\"),\n      left: ((el.positionX) + \"px\"),\n      transform: (\"rotate(\" + (el.rotateAngle) + \"deg) scaleX(\" + (el.scaleX) + \")\"),\n      transition: el.transition,\n      opacity: el.opacity,\n      backgroundImage: (\"url(\" + (el.image) + \")\"),\n    })})})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ccef1652\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/appSnow/appSnow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ccef1652\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./appSnow.scss\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./appSnow.js\"\nimport __vue_script__ from \"!!babel-loader!./appSnow.js\"/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ccef1652\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./appSnow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/appSnow/appSnow.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}