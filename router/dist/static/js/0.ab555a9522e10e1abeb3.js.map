{"version":3,"sources":["webpack:///./src/assets/snowflakes-blue.png","webpack:///./src/components/pages/appSnow/appSnow.js","webpack:///./src/components/pages/appSnow/appSnow.vue?fca6","webpack:///./src/components/pages/appSnow/appSnow.vue"],"names":["module","exports","__webpack_require__","p","appSnow","name","data","currentBgUrl","undefined","findPhoto","Snowflake","number","maxSpeedX","maxSpeedY","maxRotateSpeed","isActive","time","items","methods","changeBg","_this","this","fetch","then","json","i","Math","floor","hits","length","random","largeImageURL","catch","e","console","log","initSnowflake","positionX","window","innerWidth","positionY","speedX","speedY","rotateAngle","rotateSpeed","opacity","transition","image","snowflakeImage","rotateSnowflakes","_this2","nextAngle","Vue","set","setTimeout","fallSnowflakes","_this3","nextY","innerHeight","moveXSnowflakes","_this4","nextX","fadeSnowflakes","timer","_this5","created","$route","query","snowflakes","mounted","push","appSnow_appSnow","render","_h","$createElement","_c","_self","staticClass","style","backgroundImage","attrs","to","_v","_l","el","key","top","left","transform","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/0.ab555a9522e10e1abeb3.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/snowflakes-blue.51e3d83.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/snowflakes-blue.png\n// module id = OLl6\n// module chunks = 0","import Vue from \"vue\";\r\nimport snowflakeImage from \"@/assets/snowflakes-blue.png\";\r\n\r\nexport default {\r\n  name: \"appSnow\",\r\n  data() {\r\n    return {\r\n      currentBgUrl: undefined,\r\n      findPhoto: \"Зима\",\r\n      Snowflake: {\r\n        number: 50,\r\n        maxSpeedX: 100,\r\n        maxSpeedY: 200,\r\n        maxRotateSpeed: 20,\r\n        isActive: true,\r\n        time: 100,\r\n        items: [],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    changeBg() {\r\n      fetch(\r\n        `https://pixabay.com/api/?key=23909248-46987dab904e15ddebe9addff&q=${this.findPhoto}&image_type=photo`\r\n      )\r\n        .then((data) => {\r\n          return data.json();\r\n        })\r\n        .then((data) => {\r\n          let i = Math.floor(data.hits.length * Math.random());\r\n          this.currentBgUrl = data.hits[i].largeImageURL;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    initSnowflake() {\r\n      let positionX = Math.floor(Math.random() * window.innerWidth);\r\n      let positionY = -100;\r\n      let speedX = Math.floor((Math.random() - 0.5) * this.Snowflake.maxSpeedX);\r\n      let speedY =\r\n        Math.floor((Math.random() + 0.5) * this.Snowflake.maxSpeedY) / 2;\r\n      let rotateAngle = 0;\r\n      let rotateSpeed = Math.floor(\r\n        (Math.random() - 0.5) * this.Snowflake.maxRotateSpeed\r\n      );\r\n      let opacity = 1;\r\n\r\n      return {\r\n        positionX: positionX,\r\n        positionY: positionY,\r\n        speedX: speedX,\r\n        speedY: speedY,\r\n        rotateAngle: rotateAngle,\r\n        rotateSpeed: rotateSpeed,\r\n        opacity: opacity,\r\n        transition: \"none\",\r\n        image: snowflakeImage,\r\n      };\r\n    },\r\n    rotateSnowflakes() {\r\n      if (this.Snowflake.isActive) {\r\n        let time = this.Snowflake.time;\r\n        for (let i = 0; i < this.Snowflake.number; i++) {\r\n          let nextAngle =\r\n            this.Snowflake.items[i].rotateAngle +\r\n            (this.Snowflake.items[i].rotateSpeed * time) / 100;\r\n          Vue.set(this.Snowflake.items[i], \"rotateAngle\", nextAngle);\r\n        }\r\n        setTimeout(() => {\r\n          this.rotateSnowflakes();\r\n        }, time);\r\n      }\r\n    },\r\n    fallSnowflakes() {\r\n      if (this.Snowflake.isActive) {\r\n        let time = this.Snowflake.time;\r\n        for (let i = 0; i < this.Snowflake.number; i++) {\r\n          let nextY =\r\n            this.Snowflake.items[i].positionY +\r\n            (this.Snowflake.items[i].speedY * time) / 1000;\r\n\r\n          Vue.set(this.Snowflake.items[i], \"positionY\", nextY);\r\n          if (nextY - 100 > window.innerHeight) {\r\n            Vue.set(this.Snowflake.items, i, {});\r\n            Vue.set(this.Snowflake.items, i, this.initSnowflake());\r\n          } else {\r\n            Vue.set(this.Snowflake.items[i], \"transition\", \"all 1s linear\");\r\n          }\r\n        }\r\n        setTimeout(() => {\r\n          this.fallSnowflakes();\r\n        }, time);\r\n      }\r\n    },\r\n    moveXSnowflakes() {\r\n      if (this.Snowflake.isActive) {\r\n        let time = this.Snowflake.time;\r\n        for (let i = 0; i < this.Snowflake.number; i++) {\r\n          let nextX =\r\n            this.Snowflake.items[i].positionX +\r\n                (this.Snowflake.items[i].speedX * time) / 1000;\r\n            this.Snowflake.items[i].speedX += (Math.random() - 0.5) * this.Snowflake.maxSpeedX;\r\n            if (this.Snowflake.items[i].speedX > 0.8 * this.Snowflake.maxSpeedX) this.Snowflake.items[i].speedX -= 0.3 * this.Snowflake.maxSpeedX;\r\n            if (this.Snowflake.items[i].speedX < -0.8 * this.Snowflake.maxSpeedX) this.Snowflake.items[i].speedX += 0.3 * this.Snowflake.maxSpeedX;\r\n            Vue.set(this.Snowflake.items[i], \"positionX\", nextX);\r\n        }\r\n        setTimeout(() => {\r\n          this.moveXSnowflakes();\r\n        }, time);\r\n      }\r\n    },\r\n    fadeSnowflakes(timer) {\r\n      if (this.Snowflake.isActive) {\r\n        let i = Math.floor(Math.random() * this.Snowflake.number);\r\n        Vue.set(this.Snowflake.items[i], \"opacity\", 0);\r\n\r\n        setTimeout(() => {\r\n          Vue.set(this.Snowflake.items, i, this.initSnowflake());\r\n        }, 1000);\r\n        setTimeout(() => {\r\n          this.fadeSnowflakes(timer);\r\n        }, timer);\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.changeBg();\r\n    \r\n    if (this.$route.query.snowflakes) {\r\n      this.Snowflake.number = this.$route.query.snowflakes;\r\n    }\r\n  },\r\n  mounted() {\r\n    for (let i = 0; i < this.Snowflake.number; i++) {\r\n      this.Snowflake.items.push(this.initSnowflake());\r\n    }\r\n    this.rotateSnowflakes();\r\n    this.fallSnowflakes();\r\n    this.moveXSnowflakes();\r\n    this.fadeSnowflakes(100);\r\n  },\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/pages/appSnow/appSnow.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-snow\",style:({ backgroundImage: (\"url(\" + _vm.currentBgUrl + \")\") })},[_c('router-link',{staticClass:\"goToMain\",attrs:{\"to\":{ name: 'Main' }}},[_vm._v(\"Перейти на главную\")]),_vm._v(\" \"),_vm._l((_vm.Snowflake.items),function(el,i){return _c('div',{key:i,staticClass:\"snowflake\",style:({\n      top: ((el.positionY) + \"px\"),\n      left: ((el.positionX) + \"px\"),\n      transform: (\"rotate(\" + (el.rotateAngle) + \"deg)\"),\n      transition: el.transition,\n      opacity: el.opacity,\n      backgroundImage: (\"url(\" + (el.image) + \")\"),\n    })})})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72a92d35\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/appSnow/appSnow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72a92d35\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./appSnow.scss\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./appSnow.js\"\nimport __vue_script__ from \"!!babel-loader!./appSnow.js\"/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72a92d35\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./appSnow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/appSnow/appSnow.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}