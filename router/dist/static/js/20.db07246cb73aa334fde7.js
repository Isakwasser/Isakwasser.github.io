webpackJsonp([20],{"5Vj6":function(t,i){},"9zsn":function(t,i,n){"use strict";function s(t,i){for(var n={amplitude:[],frequency:[],Re:[],Im:[]},s=t.length,a=1/Math.sqrt(s),e=[],l=[],_=0;_<s/2;_++){for(var r=0,o=0,c=0;c<s;c++)r+=t[c]*Math.cos(2*Math.PI/s*c*_),o+=t[c]*Math.sin(2*Math.PI/s*c*_);e[_]=a*r,l[_]=-a*o}n.Re=e,n.Im=l;for(var h=0;h<n.Im.length;h++)n.amplitude.push(Math.sqrt(n.Re[h]*n.Re[h]+n.Im[h]*n.Im[h])),n.frequency.push(h*i/2/n.Im.length);return n}Object.defineProperty(i,"__esModule",{value:!0});var a=n("504h");function e(t,i,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;a.chart(t,{title:{text:void 0},xAxis:{categories:i,min:0},plotOptions:{series:{animation:{duration:s}}},series:[{data:n,lineWidth:.5,name:void 0}]})}var l={data:function(){return{fs:1e4,interpolateTo:1e4,sequence:2,freqs:[[941,1336],[697,1209],[697,1336],[697,1477],[770,1209],[770,1336],[770,1477],[852,1209],[852,1336],[852,1477]],signal:{time:[],amplitude:[]},thinning_N:20,thinning_N_low:2,thinning_N_high:50,animation_N:1,animation_duration:200,thinSignal:{},interpolateSignal:{}}},methods:{initSignal:function(){var t=this,i=this.freqs[this.sequence][0],n=this.freqs[this.sequence][1],a=5*this.getPeriod(i,n);console.log("maxTime",a);for(var l=0,_=[],r=[];l/this.fs<a;)r.push(Math.sin(2*Math.PI*i*l/this.fs)+Math.sin(2*Math.PI*n*l/this.fs)),_.push(l/this.fs),l++;this.thinSignal={},this.interpolateSignal={},this.signal={time:_,amplitude:r};var o=s(r,this.fs);e("initSignal",this.signal.time,this.signal.amplitude),e("initSignal__fft",o.frequency,o.amplitude),this.$refs.initSignal__btn.addEventListener("click",function(){t.soundMusic(r,t.fs)})},thinningSignal:function(){var t=this,i=this.getThinSignal(this.thinning_N),n=s(i.amplitude,this.fs/this.thinning_N);e("thinningSignal",i.time,i.amplitude),e("thinningSignal__fft",n.frequency,n.amplitude);var a=this.getInterpolateSignal(this.thinning_N),l=s(a.amplitude,this.interpolateTo);e("thinningSignal_interpolate",a.time,a.amplitude),e("thinningSignal__fft_interpolate",l.frequency,l.amplitude),this.$refs.thinningSignal__btn.addEventListener("click",function(){t.soundMusic(i.amplitude,t.fs/t.thinning_N)}),this.$refs.thinningSignal_interpolate__btn.addEventListener("click",function(){t.soundMusic(a.amplitude,t.interpolateTo)})},thinningSignal_low:function(){var t=this,i=this.getThinSignal(this.thinning_N_low),n=s(i.amplitude,this.fs/this.thinning_N_low);e("thinningSignal_low",i.time,i.amplitude),e("thinningSignal__fft_low",n.frequency,n.amplitude);var a=this.getInterpolateSignal(this.thinning_N_low),l=s(a.amplitude,this.interpolateTo);e("thinningSignal_low_interpolate",a.time,a.amplitude),e("thinningSignal__fft_low_interpolate",l.frequency,l.amplitude),this.$refs.thinningSignal_low__btn.addEventListener("click",function(){t.soundMusic(i.amplitude,t.fs/t.thinning_N_low)}),this.$refs.thinningSignal_low_interpolate__btn.addEventListener("click",function(){t.soundMusic(a.amplitude,t.interpolateTo)})},thinningSignal_high:function(){var t=this,i=this.getThinSignal(this.thinning_N_high),n=s(i.amplitude,this.fs/this.thinning_N_high);e("thinningSignal_high",i.time,i.amplitude),e("thinningSignal__fft_high",n.frequency,n.amplitude);var a=this.getInterpolateSignal(this.thinning_N_high),l=s(a.amplitude,this.interpolateTo);e("thinningSignal_high_interpolate",a.time,a.amplitude),e("thinningSignal__fft_high_interpolate",l.frequency,l.amplitude),this.$refs.thinningSignal_high__btn.addEventListener("click",function(){t.soundMusic(i.amplitude,t.fs/t.thinning_N_high)}),this.$refs.thinningSignal_high_interpolate__btn.addEventListener("click",function(){t.soundMusic(a.amplitude,t.interpolateTo)})},interpolate:function(t,i){for(var n={time:[],amplitude:[]},s=0,a=0;a<t.time.slice(-1)[0]*i;a++)t.time[s+1]<a/i&&s++,n.amplitude.push(t.amplitude[s]),n.time.push(a/i);return n},getInterpolateSignal:function(t){return this.interpolateSignal.hasOwnProperty(t)?this.interpolateSignal[t]:(console.log("Рассчет interpolateSignal: "+t),this.interpolateSignal[t]=this.interpolate(this.getThinSignal(t),this.interpolateTo),this.interpolateSignal[t])},getThinSignal:function(t){if(this.thinSignal.hasOwnProperty(t))return this.thinSignal[t];for(var i=[],n=[],s=0;s<this.signal.time.length;s++)s%t==0&&(i.push(this.signal.time[s]),n.push(this.signal.amplitude[s]));return this.thinSignal[t]={time:i,amplitude:n},this.thinSignal[t]},soundMusic:function(t,i){if(i<3e3)alert("Частота дискретизации для воспроизведения не может быть меньше 3000. Текущая "+i);else{for(var n=new(window.AudioContext||window.webkitAudioContext),s=n.createBuffer(1,t.length,i),a=s.getChannelData(0),e=0;e<a.length;e++)a[e]=t[e];var l=n.createBufferSource();l.buffer=s,l.connect(n.destination),l.start()}},getPeriod:function(t,i){for(var n=1/t,s=1/i,a={i:0,value:1/0},e=2;e<100;e++){var l=Math.min(n*e%s,n*(e-1)%s);l<a.value&&(a={i:e,value:l})}return n*a.i},doAll:function(){this.initSignal(),this.thinningSignal(),this.thinningSignal_low(),this.thinningSignal_high()},animate:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.animation_N,n=this.getThinSignal(i),a=s(n.amplitude,this.fs/i);this.animation_N=i,e("thinningSignal__animation",n.time,n.amplitude,0),e("thinningSignal__animation__fft",a.frequency,a.amplitude,0);var l=this.getInterpolateSignal(i),_=s(l.amplitude,this.interpolateTo);e("thinningSignal__animation__interpolate",l.time,l.amplitude,0),e("thinningSignal__animation__fft__interpolate",_.frequency,_.amplitude,0),i<50&&setTimeout(function(){t.animate(i+1)},this.animation_duration)}},mounted:function(){}},_={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"appDigitalInit"},[n("div",{staticClass:"appDigital_S08"},[n("h2",{staticClass:"text-center"},[t._v("Самостоятельная работа №8")]),t._v(" "),n("div",{staticClass:"step"},[t._m(0),t._v(" "),n("div",{staticClass:"step__content"},[t._m(1),t._v(" "),n("div",{staticClass:"step__action"},[n("div",{staticClass:"row mb-3"},[n("label",{staticClass:"col-sm-2 col-form-label col-form-label-sm",attrs:{for:"fs"}},[t._v("Частота дискретизации")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.fs,expression:"fs"}],staticClass:"form-control form-control-sm",attrs:{type:"number",id:"fs",placeholder:"Частота дискретизации",disabled:""},domProps:{value:t.fs},on:{input:function(i){i.target.composing||(t.fs=i.target.value)}}})])]),t._v(" "),n("div",{staticClass:"row mb-3"},[n("label",{staticClass:"col-sm-2 col-form-label col-form-label-sm",attrs:{for:"sequence"}},[t._v("Последовательность")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[t._v("\r\n                            "+t._s(t.sequence)+"\r\n                            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.sequence,expression:"sequence"}],attrs:{type:"range",min:"0",max:"9",id:"sequence",placeholder:"Последовательность"},domProps:{value:t.sequence},on:{__r:function(i){t.sequence=i.target.value}}})])]),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-sm",on:{click:t.doAll}},[t._v("Рассчитать")])])])]),t._v(" "),n("div",{staticClass:"step"},[t._m(2),t._v(" "),n("div",{staticClass:"step__content container-fluid"},[n("h4",[t._v("Исходный сигнал")]),t._v(" "),n("button",{ref:"initSignal__btn",staticClass:"btn btn-sm btn-secondary"},[t._v("Play")]),t._v(" "),t._m(3)])]),t._v(" "),n("div",{staticClass:"step"},[t._m(4),t._v(" "),n("div",{staticClass:"step__content container-fluid"},[n("h4",[t._v("Коэффициент выброса значений: "+t._s(t.thinning_N_low))]),t._v(" "),n("button",{ref:"thinningSignal_low__btn",staticClass:"btn btn-sm btn-secondary"},[t._v("Play")]),t._v(" "),t._m(5)])]),t._v(" "),n("div",{staticClass:"step"},[t._m(6),t._v(" "),n("div",{staticClass:"step__content container-fluid"},[n("h4",[t._v("Интерполяция до частоты "+t._s(t.interpolateTo))]),t._v(" "),n("button",{ref:"thinningSignal_low_interpolate__btn",staticClass:"btn btn-sm btn-secondary"},[t._v("Play")]),t._v(" "),t._m(7)])]),t._v(" "),n("div",{staticClass:"step"},[t._m(8),t._v(" "),n("div",{staticClass:"step__content container-fluid"},[n("h4",[t._v("Коэффициент выброса значений: "+t._s(t.thinning_N))]),t._v(" "),n("button",{ref:"thinningSignal__btn",staticClass:"btn btn-sm btn-secondary"},[t._v("Play")]),t._v(" "),t._m(9)])]),t._v(" "),n("div",{staticClass:"step"},[t._m(10),t._v(" "),n("div",{staticClass:"step__content container-fluid"},[n("h4",[t._v("Интерполяция до частоты "+t._s(t.interpolateTo))]),t._v(" "),n("button",{ref:"thinningSignal_interpolate__btn",staticClass:"btn btn-sm btn-secondary"},[t._v("Play")]),t._v(" "),t._m(11)])]),t._v(" "),n("div",{staticClass:"step"},[t._m(12),t._v(" "),n("div",{staticClass:"step__content container-fluid"},[n("h4",[t._v("Коэффициент выброса значений: "+t._s(t.thinning_N_high))]),t._v(" "),n("button",{ref:"thinningSignal_high__btn",staticClass:"btn btn-sm btn-secondary"},[t._v("Play")]),t._v(" "),t._m(13)])]),t._v(" "),n("div",{staticClass:"step"},[t._m(14),t._v(" "),n("div",{staticClass:"step__content container-fluid"},[n("h4",[t._v("Интерполяция до частоты "+t._s(t.interpolateTo))]),t._v(" "),n("button",{ref:"thinningSignal_high_interpolate__btn",staticClass:"btn btn-sm btn-secondary"},[t._v("Play")]),t._v(" "),t._m(15)])]),t._v(" "),n("div",{staticClass:"step"},[t._m(16),t._v(" "),n("div",{staticClass:"step__content container-fluid"},[n("h4",[t._v("Коэффициент выброса значений: "+t._s(t.animation_N))]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-secondary",on:{click:function(i){return t.animate(1)}}},[t._v("Start")]),t._v(" "),t._m(17)])]),t._v(" "),t._m(18)])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step__num"},[i("div",{staticClass:"num"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step__descryption"},[i("h4",[this._v("Сигнал")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step__num"},[i("div",{staticClass:"num"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"initSignal"}})]),this._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"initSignal__fft"}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step__num"},[i("div",{staticClass:"num"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal_low"}})]),this._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal__fft_low"}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step__num"},[i("div",{staticClass:"num"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal_low_interpolate"}})]),this._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal__fft_low_interpolate"}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step__num"},[i("div",{staticClass:"num"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal"}})]),this._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal__fft"}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step__num"},[i("div",{staticClass:"num"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal_interpolate"}})]),this._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal__fft_interpolate"}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step__num"},[i("div",{staticClass:"num"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal_high"}})]),this._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal__fft_high"}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step__num"},[i("div",{staticClass:"num"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal_high_interpolate"}})]),this._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal__fft_high_interpolate"}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step__num"},[i("div",{staticClass:"num"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal__animation"}})]),this._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal__animation__fft"}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"step"},[i("div",{staticClass:"step__num"},[i("div",{staticClass:"num"})]),this._v(" "),i("div",{staticClass:"step__content container-fluid"},[i("h4",[this._v("Интерполяция")]),this._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal__animation__interpolate"}})]),this._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{attrs:{id:"thinningSignal__animation__fft__interpolate"}})])])])])}]};var r=n("VU/8")(l,_,!1,function(t){n("5Vj6")},null,null);i.default=r.exports}});
//# sourceMappingURL=20.db07246cb73aa334fde7.js.map