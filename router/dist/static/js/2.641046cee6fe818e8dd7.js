webpackJsonp([2],{"+E39":function(t,e,n){t.exports=!n("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(t,e,n){var o=n("lOnJ");t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},"77Pl":function(t,e,n){var o=n("EqjI");t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},"7KvD":function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},D2L2:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},EqjI:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},FeBl:function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},GJcV:function(t,e,n){t.exports=n.p+"static/media/sound.a24f99b.wav"},K4R9:function(t,e,n){n("NA/8"),t.exports=n("FeBl").Number.isNaN},MICi:function(t,e,n){t.exports={default:n("K4R9"),__esModule:!0}},MmMw:function(t,e,n){var o=n("EqjI");t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"NA/8":function(t,e,n){var o=n("kM2E");o(o.S,"Number",{isNaN:function(t){return t!=t}})},ON07:function(t,e,n){var o=n("EqjI"),i=n("7KvD").document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},S82l:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},SfB7:function(t,e,n){t.exports=!n("+E39")&&!n("S82l")(function(){return 7!=Object.defineProperty(n("ON07")("div"),"a",{get:function(){return 7}}).a})},X8DO:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},ajBQ:function(t,e){},evD5:function(t,e,n){var o=n("77Pl"),i=n("SfB7"),r=n("MmMw"),a=Object.defineProperty;e.f=n("+E39")?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},hJx8:function(t,e,n){var o=n("evD5"),i=n("X8DO");t.exports=n("+E39")?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},kM2E:function(t,e,n){var o=n("7KvD"),i=n("FeBl"),r=n("+ZMJ"),a=n("hJx8"),s=n("D2L2"),c=function(t,e,n){var u,l,f,d=t&c.F,v=t&c.G,p=t&c.S,h=t&c.P,_=t&c.B,m=t&c.W,g=v?i:i[e]||(i[e]={}),w=g.prototype,y=v?o:p?o[e]:(o[e]||{}).prototype;for(u in v&&(n=e),n)(l=!d&&y&&void 0!==y[u])&&s(g,u)||(f=l?y[u]:n[u],g[u]=v&&"function"!=typeof y[u]?n[u]:_&&l?r(f,o):m&&y[u]==f?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):h&&"function"==typeof f?r(Function.call,f):f,h&&((g.virtual||(g.virtual={}))[u]=f,t&c.R&&w&&!w[u]&&a(w,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},lOnJ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},pXK8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("MICi"),i=n.n(o);function r(t,e){for(var n={amplitude:[],frequency:[],Re:[],Im:[]},o=t.length,i=1/Math.sqrt(o),r=[],a=[],s=0;s<o;s++){for(var c=0,u=0,l=0;l<o;l++)c+=t[l]*Math.cos(2*Math.PI/o*l*s),u+=t[l]*Math.sin(2*Math.PI/o*l*s);r[s]=i*c,a[s]=-i*u}n.Re=r,n.Im=a;for(var f=0;f<n.Im.length;f++)n.amplitude.push(Math.sqrt(n.Re[f]*n.Re[f]+n.Im[f]*n.Im[f])),n.frequency.push(f*e/n.Im.length);return n}n("504h");var a={data:function(){return{windowWidth:.01,fs:void 0,cutoffF:500,cutoffF_high:1e3,cutoffF_band_low:.02,cutoffF_band_high:.03}},methods:{step1:function(){var t=this,e=new(AudioContext||webkitAudioContext),n=new XMLHttpRequest;n.open("GET",this.$refs.audio.src,!0),n.responseType="arraybuffer",n.onload=function(){e.decodeAudioData(n.response,function(e){var n=e.getChannelData(0);t.showSpectrogramByBytes(n,e.sampleRate)},function(t){console.log("Decode error: "+t)})},n.send()},showSpectrogramByBytes:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"spectrogram";console.log(e);var i=document.getElementById(o);i.style.position="relative",i.width=t.length/e/this.windowWidth+1;var a=r(t.slice(0*e*this.windowWidth,1*e*this.windowWidth),e);i.height=1*Math.floor(a.amplitude.length/2);var s=i.getContext("2d");s.clearRect(0,0,i.width,i.height),s.fillStyle="rgb(0, 0, 0)",s.fillRect(0,0,i.width,i.height),s.fillStyle="#FFF",s.fillText(a.frequency[Math.floor(a.amplitude.length/2)]+" Гц",5,10);var c=100,u=0;!function o(a){for(var l=r(t.slice(a*e*n.windowWidth,(a+1)*e*n.windowWidth),e),f=[],d=[],v=0;v<l.amplitude.length/2;v++){var p=Math.log(l.amplitude[v])/10+1;p=l.amplitude[v]/5,p=Math.log(l.amplitude[v]+1)/2,c>p&&(c=p),u<p&&(u=p),p<0&&(p=0),p>1&&(p=1),f.push(p),d.push(l.frequency[v])}for(var h=1*a,_=i.height-1,m=0;m<d.length;m++)s.fillStyle="rgba(255, 255, 255,"+f[m]+")",s.fillRect(h,_,1,1),_-=1;(a+1)*e*n.windowWidth<t.length&&setTimeout(o,0,a+1)}(0)},playFloat32Array:function(t){for(var e=new(window.AudioContext||window.webkitAudioContext),n=(t.getChannelData(0),0);n<t.length;n++);var o=e.createBufferSource();o.buffer=t,o.connect(e.destination),o.start(),this.$refs.stop.onclick=function(){o.stop()}},step2:function(){var t=this,e=new(AudioContext||webkitAudioContext),n=new XMLHttpRequest;n.open("GET",this.$refs.audio2.src,!0),n.responseType="arraybuffer",n.onload=function(){e.decodeAudioData(n.response,function(e){var n=e.getChannelData(0);t.filterButterworth(n),t.showSpectrogramByBytes(n,e.sampleRate,"spectrogram2"),t.playFloat32Array(e)},function(t){console.log("Decode error: "+t)})},n.send()},filterButterworth:function(t){for(var e=t.slice(0),n=void 0,o=2*Math.PI*this.cutoffF,r=Math.tan(Math.PI*o/48e3),a=1+r*Math.sqrt(2)+r*r,s=[r*r/a,2*r*r/a,r*r/a],c=[1,2*(r*r-1)/a,(1-r*Math.sqrt(2)+r*r)/a],u=0;u<t.length;u++){n=0;for(var l=0;l<s.length;l++)u-l>=0&&(n+=s[l]*e[u-l]);for(var f=1;f<c.length;f++)u-f>=0&&(n-=c[f]*t[u-f]);i()(n)&&console.log(u),t[u]=n}return t},step3:function(){var t=this,e=new(AudioContext||webkitAudioContext),n=new XMLHttpRequest;n.open("GET",this.$refs.audio3.src,!0),n.responseType="arraybuffer",n.onload=function(){e.decodeAudioData(n.response,function(e){var n=e.getChannelData(0);t.filterButterworth_high(n),t.showSpectrogramByBytes(n,e.sampleRate,"spectrogram2_high"),t.playFloat32Array(e)},function(t){console.log("Decode error: "+t)})},n.send()},filterButterworth_high:function(t){for(var e=t.slice(0),n=void 0,o=2*Math.PI*this.cutoffF_high,r=Math.tan(Math.PI*o/48e3),a=1+r*Math.sqrt(2)+r*r,s=[1/a,2/a,1/a],c=[1,2*(r*r-1)/a,(1-r*Math.sqrt(2)+r*r)/a],u=0;u<t.length;u++){n=0;for(var l=0;l<s.length;l++)u-l>=0&&(n+=s[l]*e[u-l]);for(var f=1;f<c.length;f++)u-f>=0&&(n-=c[f]*t[u-f]);i()(n)&&console.log(u),t[u]=n}return t},step4:function(){var t=this,e=new(AudioContext||webkitAudioContext),n=new XMLHttpRequest;n.open("GET",this.$refs.audio3.src,!0),n.responseType="arraybuffer",n.onload=function(){e.decodeAudioData(n.response,function(e){var n=e.getChannelData(0);t.filterButterworth_band(n),t.showSpectrogramByBytes(n,e.sampleRate,"spectrogram2_band"),t.playFloat32Array(e)},function(t){console.log("Decode error: "+t)})},n.send()},filterButterworth_band:function(t){for(var e=t.slice(0),n=void 0,o=(this.cutoffF_band_high-this.cutoffF_band_low)*Math.PI,r=this.cutoffF_band_high*this.cutoffF_band_low*4*Math.PI*Math.PI,a=1+o+r,s=[o/a,0,-o/a],c=[1,2*(r-1)/a,(1-o+r)/a],u=0;u<t.length;u++){n=0;for(var l=0;l<s.length;l++)u-l>=0&&(n+=s[l]*e[u-l]);for(var f=1;f<c.length;f++)u-f>=0&&(n-=c[f]*t[u-f]);i()(n)&&console.log(u),t[u]=n}return t}},mounted:function(){}},s={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"appDigitalInit"},[o("div",{staticClass:"appDigital_S07"},[o("h2",{staticClass:"text-center"},[t._v("Самостоятельная работа №7")]),t._v(" "),o("div",{staticClass:"step"},[t._m(0),t._v(" "),o("div",{staticClass:"step__content"},[o("div",{staticClass:"step__descryption"},[t._v("Аудиофайл")]),t._v(" "),o("div",{staticClass:"step__action"},[o("audio",{ref:"audio",attrs:{controls:"",src:n("GJcV")}},[t._v("\n            Тег audio не поддерживается вашим браузером.\n          ")])])])]),t._v(" "),o("div",{staticClass:"step"},[t._m(1),t._v(" "),o("div",{staticClass:"step__content"},[o("div",{staticClass:"step__descryption"},[o("button",{on:{click:t.step1}},[t._v("\n            Получить спектрограмму c временным разрешением "+t._s(t.windowWidth)+"с\n          ")])]),t._v(" "),t._m(2)])]),t._v(" "),o("div",{staticClass:"step"},[t._m(3),t._v(" "),o("div",{staticClass:"step__content"},[o("audio",{ref:"audio2",staticClass:"d-none",attrs:{controls:"",src:n("GJcV")}},[t._v("\n          Тег audio не поддерживается вашим браузером.\n        ")]),t._v(" "),o("div",{staticClass:"step__descryption"},[o("h4",[t._v("Фильтр Баттерворта. ФНЧ")]),t._v(" "),o("div",{staticClass:"d-flex"},[o("label",{staticClass:"col-2"},[t._v("Частота среза:")]),t._v(" "),o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.cutoffF,expression:"cutoffF"}],attrs:{type:"text"},domProps:{value:t.cutoffF},on:{input:function(e){e.target.composing||(t.cutoffF=e.target.value)}}})])]),t._v(" "),o("button",{on:{click:t.step2}},[t._v("\n            Фильтр, спектрограмма, воспроизведение\n          ")]),t._v(" "),o("button",{ref:"stop"},[t._v("Остановить воспроизведение")])]),t._v(" "),t._m(4)])]),t._v(" "),o("div",{staticClass:"step"},[t._m(5),t._v(" "),o("div",{staticClass:"step__content"},[o("div",{staticClass:"step__descryption"},[o("audio",{ref:"audio3",staticClass:"d-none",attrs:{controls:"",src:n("GJcV")}},[t._v("\n            Тег audio не поддерживается вашим браузером.\n          ")]),t._v(" "),o("h4",[t._v("Фильтр Баттерворта. ФВЧ")]),t._v(" "),o("div",{staticClass:"d-flex"},[o("label",{staticClass:"col-2"},[t._v("Частота среза:")]),t._v(" "),o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.cutoffF_high,expression:"cutoffF_high"}],attrs:{type:"text"},domProps:{value:t.cutoffF_high},on:{input:function(e){e.target.composing||(t.cutoffF_high=e.target.value)}}})])]),t._v(" "),o("button",{on:{click:t.step3}},[t._v("\n            Фильтр, спектрограмма, воспроизведение\n          ")]),t._v(" "),o("button",{ref:"stop"},[t._v("Остановить воспроизведение")])]),t._v(" "),t._m(6)])]),t._v(" "),o("div",{staticClass:"step"},[t._m(7),t._v(" "),o("div",{staticClass:"step__content"},[o("div",{staticClass:"step__descryption"},[o("audio",{ref:"audio4",staticClass:"d-none",attrs:{controls:"",src:n("GJcV")}},[t._v("\n            Тег audio не поддерживается вашим браузером.\n          ")]),t._v(" "),o("h4",[t._v("Фильтр Баттерворта. Полосовой")]),t._v(" "),o("div",{staticClass:"d-flex"},[o("label",{staticClass:"col-2"},[t._v("Частота среза нижняя:")]),t._v(" "),o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.cutoffF_band_low,expression:"cutoffF_band_low"}],attrs:{type:"number"},domProps:{value:t.cutoffF_band_low},on:{input:function(e){e.target.composing||(t.cutoffF_band_low=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"d-flex"},[o("label",{staticClass:"col-2"},[t._v("Частота среза верхняя:")]),t._v(" "),o("div",{},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.cutoffF_band_high,expression:"cutoffF_band_high"}],attrs:{type:"number"},domProps:{value:t.cutoffF_band_high},on:{input:function(e){e.target.composing||(t.cutoffF_band_high=e.target.value)}}})])]),t._v(" "),o("button",{on:{click:t.step4}},[t._v("\n            Фильтр, спектрограмма, воспроизведение\n          ")]),t._v(" "),o("button",{ref:"stop"},[t._v("Остановить воспроизведение")])]),t._v(" "),t._m(8)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step__num"},[e("div",{staticClass:"num"},[this._v("1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step__num"},[e("div",{staticClass:"num"},[this._v("2")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step__action"},[e("canvas",{attrs:{id:"spectrogram"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step__num"},[e("div",{staticClass:"num"},[this._v("3")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step__action"},[e("canvas",{attrs:{id:"spectrogram2"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step__num"},[e("div",{staticClass:"num"},[this._v("4")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step__action"},[e("canvas",{attrs:{id:"spectrogram2_high"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step__num"},[e("div",{staticClass:"num"},[this._v("5")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step__action"},[e("canvas",{attrs:{id:"spectrogram2_band"}})])}]};var c=n("VU/8")(a,s,!1,function(t){n("ajBQ")},null,null);e.default=c.exports}});
//# sourceMappingURL=2.641046cee6fe818e8dd7.js.map