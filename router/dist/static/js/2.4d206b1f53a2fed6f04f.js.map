{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/core-js/library/fn/number/is-nan.js","webpack:///./node_modules/babel-runtime/core-js/number/is-nan.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/es6.number.is-nan.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./src/assets/audio/app07/sound_sm.wav","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./src/components/pages/appDigital/appS07/js/js/showGraph.js","webpack:///./src/components/pages/appDigital/appS07/js/appS07.js","webpack:///./src/components/pages/appDigital/appS07/js/js/fft.js","webpack:///./src/components/pages/appDigital/appS07/appS07.vue?0042","webpack:///./src/components/pages/appDigital/appS07/appS07.vue"],"names":["module","exports","__webpack_require__","Object","defineProperty","get","a","aFunction","fn","that","length","undefined","call","b","c","apply","arguments","isObject","it","TypeError","global","window","Math","self","Function","__g","hasOwnProperty","key","core","version","__e","Number","isNaN","default","__esModule","S","val","toString","valueOf","$export","number","document","is","createElement","exec","e","bitmap","value","enumerable","configurable","writable","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","P","Attributes","createDesc","object","p","ctx","hide","has","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","expProto","target","C","this","virtual","R","U","require","appS07","data","windowWidth","fs","cutoffF","methods","step1","_this","context","AudioContext","webkitAudioContext","request","XMLHttpRequest","open","$refs","audio","src","responseType","onload","decodeAudioData","response","buffer","float32Array","getChannelData","showSpectrogramByBytes","sampleRate","err","console","log","send","_this2","canvasID","canvas","getElementById","style","position","width","height","canvasCtx","getContext","clearRect","fillStyle","fillRect","min","max","drawPiece","currentIndex","datafft","signal","ans","amplitude","frequency","Re","Im","N","sqrt","fjRe","fjIm","j","sumre","sumim","k","cos","PI","sin","i","push","fft","slice","arr","arrf","currentOpacity","posX","posY","setTimeout","getSpectrogram","_this3","initAudioBuffer","playFloat32Array","myArrayBuffer","audioCtx","createBufferSource","connect","destination","start","stop","onclick","test","audioEle","Audio","autoplay","preload","audioSourceNode","createMediaElementSource","analyserNode","createAnalyser","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","innerWidth","draw","imageData","getImageData","getByteFrequencyData","putImageData","barOpacity","requestAnimationFrame","filter","createBiquadFilter","gain","setValueAtTime","currentTime","linearRampToValueAtTime","step2","_this4","audio2","filterButterworth","inputSignal","sum","cutoffW","wp","tan","normalizeKoef","is_nan_default","mounted","appS07_appS07","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_m","ref","attrs","controls","on","click","_s","directives","rawName","expression","domProps","input","$event","composing","staticRenderFns","id","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.4d206b1f53a2fed6f04f.js","sourcesContent":["// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_descriptors.js\n// module id = +E39\n// module chunks = 1 2","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ctx.js\n// module id = +ZMJ\n// module chunks = 1 2","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-object.js\n// module id = 77Pl\n// module chunks = 1 2","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_global.js\n// module id = 7KvD\n// module chunks = 1 2","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_has.js\n// module id = D2L2\n// module chunks = 1 2","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-object.js\n// module id = EqjI\n// module chunks = 1 2","var core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = FeBl\n// module chunks = 1 2","require('../../modules/es6.number.is-nan');\nmodule.exports = require('../../modules/_core').Number.isNaN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/number/is-nan.js\n// module id = K4R9\n// module chunks = 2","module.exports = { \"default\": require(\"core-js/library/fn/number/is-nan\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/number/is-nan.js\n// module id = MICi\n// module chunks = 2","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-primitive.js\n// module id = MmMw\n// module chunks = 1 2","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.number.is-nan.js\n// module id = NA/8\n// module chunks = 2","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_dom-create.js\n// module id = ON07\n// module chunks = 1 2","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_fails.js\n// module id = S82l\n// module chunks = 1 2","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ie8-dom-define.js\n// module id = SfB7\n// module chunks = 1 2","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_property-desc.js\n// module id = X8DO\n// module chunks = 1 2","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dp.js\n// module id = evD5\n// module chunks = 1 2","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_hide.js\n// module id = hJx8\n// module chunks = 1 2","module.exports = __webpack_public_path__ + \"static/media/sound_sm.e069115.wav\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/audio/app07/sound_sm.wav\n// module id = k5iw\n// module chunks = 2","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_export.js\n// module id = kM2E\n// module chunks = 1 2","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_a-function.js\n// module id = lOnJ\n// module chunks = 1 2","let Highcharts = require('highcharts');\r\n\r\nexport default function showGraph(id, x, y) {\r\n    Highcharts.chart(id, {\r\n        // chart: {\r\n        //     zoomType: 'x'\r\n        // },\r\n        title: {\r\n            text: undefined,\r\n        },\r\n        xAxis: {\r\n            // type: 'numeric',\r\n            categories: x,\r\n            // tickAmount: 5,\r\n            // softMax: 3,\r\n            min: 0,\r\n            // startOnTick: false,\r\n        },\r\n        series: [{\r\n            data: y,\r\n            lineWidth: 0.5,\r\n            name: undefined,\r\n            // type: 'line',\r\n            \r\n        }]\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/pages/appDigital/appS07/js/js/showGraph.js","import fft from \"./js/fft\";\r\nimport gercel from './js/gercel';\r\nimport showGraph from \"./js/showGraph\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            windowWidth: 0.01,\r\n            fs: undefined,\r\n            cutoffF: 100,\r\n        }\r\n    },\r\n    methods: {\r\n        step1() {\r\n            // create the audio context (chrome only for now)\r\n            let context = new (AudioContext || webkitAudioContext)();\r\n\r\n            let request = new XMLHttpRequest();\r\n            request.open('GET', this.$refs.audio.src, true);\r\n            request.responseType = 'arraybuffer';\r\n    \r\n            // When loaded decode the data\r\n            request.onload = ()=> {\r\n                // decode the data\r\n                context.decodeAudioData(request.response, (buffer) => {\r\n                    let float32Array = buffer.getChannelData(0); // получили массив байтов\r\n                    this.showSpectrogramByBytes(float32Array, buffer.sampleRate);\r\n                }, (err)=>{console.log(`Decode error: ${err}`)});\r\n            }\r\n            request.send();\r\n        },\r\n        showSpectrogramByBytes(float32Array, fs, canvasID = 'spectrogram') {\r\n            console.log(fs)\r\n            let currentIndex = 0;\r\n            const canvas = document.getElementById(canvasID); // прикрепили окно рисования\r\n            canvas.style.position = 'relative';\r\n            canvas.width = float32Array.length/fs/this.windowWidth*2;\r\n            canvas.height = fs * this.windowWidth;\r\n            const canvasCtx = canvas.getContext('2d');\r\n            canvasCtx.clearRect(0, 0, canvas.width, canvas.height);\r\n            canvasCtx.fillStyle = 'rgb(0, 0, 0)';\r\n            canvasCtx.fillRect(0, 0, canvas.width, canvas.height);\r\n            let min = 100, max = 0;\r\n\r\n            let drawPiece = (currentIndex) => {\r\n                // console.log(currentIndex)\r\n                let datafft = fft(float32Array.slice(currentIndex * fs * this.windowWidth, (currentIndex + 1) * fs * this.windowWidth), fs)\r\n                let arr = [];\r\n                let arrf = [];\r\n                // console.log(datafft.frequency[Math.floor(datafft.amplitude.length / 2)]); // вывести частоту Найквиста\r\n                for (let i = 0; i < datafft.amplitude.length / 2; i++) {\r\n                    /**\r\n                     * Варианты расчета значений спектрограммы\r\n                     */\r\n                    let currentOpacity = Math.log(datafft.amplitude[i]) / 10 + 1;\r\n                    currentOpacity = datafft.amplitude[i] / 5;\r\n                    currentOpacity = Math.log(datafft.amplitude[i] + 1) / 2;\r\n                    \r\n                    if (min > currentOpacity) min = currentOpacity;\r\n                    if (max < currentOpacity) max = currentOpacity;\r\n\r\n                    if (currentOpacity < 0) currentOpacity = 0;\r\n                    if (currentOpacity > 1) currentOpacity = 1;\r\n                    \r\n                    arr.push(currentOpacity);\r\n                    arrf.push(datafft.frequency[i]);\r\n                }\r\n                // console.log(Math.min(...arr), Math.max(...arr));\r\n\r\n                //Draw spectrum\r\n                let posX = currentIndex*2;\r\n                let posY = canvas.height-2;\r\n                for (let i = 0; i < arrf.length; i++) {\r\n                    canvasCtx.fillStyle = 'rgba(255, 255, 255,'+arr[i]+')';\r\n                    canvasCtx.fillRect(posX, posY, 3, 2);\r\n                    posY -= 2;\r\n                }\r\n                if ((currentIndex + 1) * fs * this.windowWidth < float32Array.length) {\r\n                    setTimeout(drawPiece, 0, currentIndex + 1)\r\n                }\r\n                // console.log(min,max,max-min)\r\n                \r\n            }\r\n\r\n            drawPiece(currentIndex);\r\n        },\r\n        getSpectrogram() {\r\n            // create the audio context (chrome only for now)\r\n            let context = new (AudioContext || webkitAudioContext)();\r\n\r\n            let request = new XMLHttpRequest();\r\n            request.open('GET', this.$refs.audio.src, true);\r\n            request.responseType = 'arraybuffer';\r\n    \r\n            // When loaded decode the data\r\n            request.onload = ()=> {\r\n                // decode the data\r\n                context.decodeAudioData(request.response, (buffer) => {\r\n                    this.initAudioBuffer = buffer;\r\n                    let float32Array = buffer.getChannelData(0);\r\n                    console.log('float32Array', float32Array)\r\n\r\n                    // this.playFloat32Array(buffer);\r\n\r\n                }, (err)=>{console.log(`Decode error: ${err}`)});\r\n            }\r\n            request.send();\r\n        },\r\n        playFloat32Array(myArrayBuffer) {\r\n            let audioCtx = new (window.AudioContext || window.webkitAudioContext)();\r\n\r\n            // just random values between -1.0 and 1.0\r\n            // This gives us the actual array that contains the data\r\n            let nowBuffering = myArrayBuffer.getChannelData(0);\r\n            for (var i = 0; i < myArrayBuffer.length; i++) {\r\n                // Math.random() is in [0; 1.0]\r\n                // audio needs to be in [-1.0; 1.0]\r\n                // nowBuffering[i] = Math.random()*2-1;\r\n            }\r\n                \r\n            \r\n\r\n            // Get an AudioBufferSourceNode.\r\n            // This is the AudioNode to use when we want to play an AudioBuffer\r\n            let source = audioCtx.createBufferSource();\r\n\r\n            // set the buffer in the AudioBufferSourceNode\r\n            source.buffer = myArrayBuffer;\r\n\r\n            // connect the AudioBufferSourceNode to the\r\n            // destination so we can hear the sound\r\n            source.connect(audioCtx.destination);\r\n\r\n            // start the source playing\r\n            source.start();\r\n            this.$refs.stop.onclick = () => {\r\n                source.stop();\r\n            }\r\n\r\n        },\r\n        test() {\r\n            const audioCtx = new AudioContext();\r\n\r\n            //Create audio source\r\n            //Here, we use an audio file, but this could also be e.g. microphone input\r\n            const audioEle = new Audio();\r\n            audioEle.src = '/static/media/sound.wav';//insert file name here\r\n            audioEle.autoplay = true;\r\n            audioEle.preload = 'auto';\r\n            const audioSourceNode = audioCtx.createMediaElementSource(audioEle);\r\n\r\n            //Create analyser node\r\n            const analyserNode = audioCtx.createAnalyser();\r\n            analyserNode.fftSize = 8192;\r\n            const bufferLength = analyserNode.frequencyBinCount;\r\n            // const dataArray = new Float32Array(bufferLength);\r\n            const dataArray = new Uint8Array(bufferLength);\r\n\r\n            //Set up audio node network\r\n            audioSourceNode.connect(analyserNode);\r\n            analyserNode.connect(audioCtx.destination);\r\n\r\n            //Create 2D canvas\r\n            const canvas = document.getElementById('spectrogram');\r\n            // canvas.style.position = 'absolute';\r\n            canvas.style.position = 'relative';\r\n            // canvas.style.top = 0;\r\n            // canvas.style.left = 0;\r\n            canvas.width = window.innerWidth;\r\n            canvas.height = bufferLength;\r\n            // document.body.appendChild(canvas);\r\n            const canvasCtx = canvas.getContext('2d');\r\n            canvasCtx.clearRect(0, 0, canvas.width, canvas.height);\r\n            // let max = -10000,min=10000;\r\n            canvasCtx.fillStyle = 'rgb(0, 0, 0)';\r\n            canvasCtx.fillRect(0, 0, canvas.width, canvas.height);\r\n            function draw() {\r\n                let imageData = canvasCtx.getImageData(\r\n                    0,\r\n                    0,\r\n                    canvas.width,\r\n                    canvas.height,\r\n                );\r\n\r\n                //Get spectrum data\r\n                analyserNode.getByteFrequencyData(dataArray);\r\n\r\n                //Draw black background\r\n                canvasCtx.fillStyle = 'rgb(0, 0, 0)';\r\n                canvasCtx.fillRect(0, 0, canvas.width, canvas.height);\r\n                canvasCtx.putImageData(imageData, 2, 0);\r\n\r\n                //Draw spectrum\r\n                // const barHeight = (canvas.height / bufferLength) * 2.5;\r\n                let posY = canvas.height;\r\n                for (let i = 0; i < bufferLength; i++) {\r\n                    // const barOpacity = (dataArray[i]) * 2;\r\n                    // max = dataArray[i] > max ? dataArray[i] : max;\r\n                    // min = dataArray[i]+140 < min ? dataArray[i]+140 : min;\r\n                    // console.log(min,max)\r\n                    const barOpacity = dataArray[i]/255;\r\n                    canvasCtx.fillStyle = 'rgba(255, 255, 255,'+barOpacity+')';\r\n                    // canvasCtx.fillRect(posY, canvas.height - barHeight / 2, barWidth, barHeight / 2);\r\n                    canvasCtx.fillRect(0, posY, 4, 1);\r\n                    posY -= 1;\r\n                }\r\n                //Schedule next redraw\r\n                requestAnimationFrame(draw);\r\n            };\r\n\r\n            draw();\r\n        },\r\n        filter() {\r\n            let context = new (AudioContext || webkitAudioContext)();\r\n            let source = context.createMediaElementSource(this.$refs.audio);\r\n            let filter = context.createBiquadFilter();\r\n\r\n            source.connect(filter);\r\n            filter.connect(context.destination);\r\n\r\n            filter.frequency.value = 10000;\r\n            filter.gain.value = 30;\r\n            // \"lowpass\", \"highpass\", \"bandpass\", \"lowshelf\", \"highshelf\", \"peaking\", \"notch\", \"allpass\"\r\n            filter.type = \"highpass\";\r\n\r\n            filter.frequency.setValueAtTime(0.0, context.currentTime);\r\n            filter.frequency.linearRampToValueAtTime(120.0, context.currentTime + 10);\r\n            \r\n            console.log('filter end')\r\n        },\r\n        step2() {\r\n            // create the audio context (chrome only for now)\r\n            let context = new (AudioContext || webkitAudioContext)();\r\n\r\n            let request = new XMLHttpRequest();\r\n            request.open('GET', this.$refs.audio2.src, true);\r\n            request.responseType = 'arraybuffer';\r\n    \r\n            // When loaded decode the data\r\n            request.onload = ()=> {\r\n                // decode the data\r\n                context.decodeAudioData(request.response, (buffer) => {\r\n                    let float32Array = buffer.getChannelData(0); // получили массив байтов\r\n                    this.filterButterworth(float32Array);\r\n                    this.showSpectrogramByBytes(float32Array, buffer.sampleRate,'spectrogram2');\r\n                    this.playFloat32Array(buffer);\r\n                }, (err)=>{console.log(`Decode error: ${err}`)});\r\n            }\r\n            request.send();\r\n        },\r\n        filterButterworth (float32Array) {\r\n            let power = 3;\r\n            let inputSignal = float32Array.slice(0);\r\n            let sum;\r\n            // let a = [1, 3, 3, 1];\r\n            // let b = [960001, -1343997, 576003, -191999];\r\n            // for (let k = 0; k < float32Array.length; k++) {\r\n            //     sum = 0;\r\n            //     for (let m = 0; m <= power; m++) {\r\n            //         if (k - m >= 0) {\r\n            //             sum += b[m] * inputSignal[k - m];\r\n            //         }\r\n            //     }\r\n            //     for (let m = 1; m <= power; m++) {\r\n            //         if (k - m >= 0) {\r\n            //             sum -= a[m] * float32Array[k - m];\r\n            //         }\r\n            //     }\r\n                \r\n\r\n\r\n            //     float32Array[k] = sum/960001;\r\n            //     // float32Array[k] = 32;\r\n            // }\r\n            let cutoffW = 2 * Math.PI * this.cutoffF;\r\n            let fs = 48000;\r\n            let wp = Math.tan(Math.PI * cutoffW / fs);\r\n\r\n            let normalizeKoef = 1 + wp * Math.sqrt(2) + wp * wp;\r\n\r\n            let b = [wp*wp/normalizeKoef, 2*wp*wp/normalizeKoef, wp*wp/normalizeKoef];\r\n            let a = [1, 2 * (wp * wp - 1) / normalizeKoef, (1 - wp * Math.sqrt(2) + wp * wp) / normalizeKoef];\r\n            // console.log(a,b)\r\n            for (let k = 0; k < float32Array.length; k++) {\r\n                sum = 0;\r\n                for (let i = 0; i < b.length; i++) {\r\n                    if (k - i >= 0) {\r\n                        sum += b[i] * inputSignal[k - i];\r\n                    }\r\n                }\r\n                for (let i = 1; i < a.length; i++) {\r\n                    if (k - i >= 0) {\r\n                        sum -= a[i] * float32Array[k - i];\r\n                    }\r\n                }\r\n                if (Number.isNaN(sum)) {\r\n                    console.log(k);\r\n                }\r\n                float32Array[k] = sum;\r\n            }\r\n            // console.log(float32Array);\r\n            return float32Array;\r\n        }\r\n    },\r\n    mounted() {\r\n        // this.doWaveform();\r\n        // this.step1();\r\n        // this.step2();\r\n\r\n    },\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/pages/appDigital/appS07/js/appS07.js","export default function fft(signal, fs) {\r\n    /*\r\n    * Извлечение спектра из сигнала\r\n    */\r\n    // let tic = (new Date()).getTime();\r\n    let ans = {\r\n        amplitude: [],\r\n        frequency: [],\r\n        Re: [],\r\n        Im: [],\r\n    };\r\n    let N = signal.length;\r\n    let a = 1/Math.sqrt(N);\r\n    let fjRe = [],\r\n        fjIm = [];\r\n    for(let j=0; j<N; j++)\r\n    {\r\n        // console.log(j);\r\n        let sumre = 0,sumim = 0;\r\n        for(let k=0;k<N;k++)\r\n        {\r\n            sumre += signal[k]*Math.cos(2*Math.PI/N*k*j);  \r\n            sumim += signal[k]*Math.sin(2*Math.PI/N*k*j);\r\n        }\r\n        fjRe[j] = a*sumre;\r\n        fjIm[j] = -a*sumim;\r\n    }\r\n    ans.Re = fjRe;\r\n    ans.Im = fjIm;\r\n    for (let i = 0; i < ans.Im.length; i++) {\r\n        ans.amplitude.push(Math.sqrt(ans.Re[i] * ans.Re[i] + ans.Im[i] * ans.Im[i]));\r\n        ans.frequency.push(i*fs/ans.Im.length);\r\n    }\r\n    // let toc = (new Date()).getTime();\r\n    // console.log(`Алгоритм Фурье занял ${toc - tic}мс`);\r\n    return ans;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/pages/appDigital/appS07/js/js/fft.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"appDigitalInit\"},[_c('div',{staticClass:\"appDigital_S07\"},[_c('h2',{staticClass:\"text-center\"},[_vm._v(\"Самостоятельная работа №7\")]),_vm._v(\" \"),_c('div',{staticClass:\"step\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"step__content\"},[_c('div',{staticClass:\"step__descryption\"},[_vm._v(\"Аудиофайл\")]),_vm._v(\" \"),_c('div',{staticClass:\"step__action\"},[_c('audio',{ref:\"audio\",attrs:{\"controls\":\"\",\"src\":require('@/assets/audio/app07/sound_sm.wav')}},[_vm._v(\"\\n            Тег audio не поддерживается вашим браузером.\\n          \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"step\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"step__content\"},[_c('div',{staticClass:\"step__descryption\"},[_c('button',{on:{\"click\":_vm.step1}},[_vm._v(\"\\n            Получить спектрограмму c временным разрешением \"+_vm._s(_vm.windowWidth)+\"с\\n          \")])]),_vm._v(\" \"),_vm._m(2)])]),_vm._v(\" \"),_c('div',{staticClass:\"step\"},[_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"step__content\"},[_c('div',{staticClass:\"step__descryption\"},[_vm._v(\"Аудиофайл\")]),_vm._v(\" \"),_c('div',{staticClass:\"step__action\"},[_c('audio',{ref:\"audio2\",attrs:{\"controls\":\"\",\"src\":require('@/assets/audio/app07/sound_sm.wav')}},[_vm._v(\"\\n            Тег audio не поддерживается вашим браузером.\\n          \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"step\"},[_vm._m(4),_vm._v(\" \"),_c('div',{staticClass:\"step__content\"},[_c('div',{staticClass:\"step__descryption\"},[_c('h4',[_vm._v(\"Фильтр Баттерворта. ФНЧ\")]),_vm._v(\" \"),_c('div',{staticClass:\"d-flex\"},[_c('label',{staticClass:\"col-2\"},[_vm._v(\"Частота среза, Гц:\")]),_vm._v(\" \"),_c('div',{},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cutoffF),expression:\"cutoffF\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.cutoffF)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.cutoffF=$event.target.value}}})])]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.step2}},[_vm._v(\"\\n            Фильтр, спектрограмма, воспроизведение\\n          \")]),_vm._v(\" \"),_c('button',{ref:\"stop\"},[_vm._v(\"Остановить воспроизведение\")])]),_vm._v(\" \"),_vm._m(5)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step__num\"},[_c('div',{staticClass:\"num\"},[_vm._v(\"1\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step__num\"},[_c('div',{staticClass:\"num\"},[_vm._v(\"2\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step__action\"},[_c('canvas',{attrs:{\"id\":\"spectrogram\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step__num\"},[_c('div',{staticClass:\"num\"},[_vm._v(\"3\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step__num\"},[_c('div',{staticClass:\"num\"},[_vm._v(\"4\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step__action\"},[_c('canvas',{attrs:{\"id\":\"spectrogram2\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e53a15e8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/appDigital/appS07/appS07.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e53a15e8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./appS07.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./js/appS07.js\"\nimport __vue_script__ from \"!!babel-loader!./js/appS07.js\"/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e53a15e8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./appS07.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/appDigital/appS07/appS07.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}